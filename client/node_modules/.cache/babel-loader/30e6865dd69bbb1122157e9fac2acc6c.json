{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/paulmenendez/Documents/CodingDojo/MERN/MERNTemps/belt3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import{navigate,Link}from'@reach/router';var Edit=function Edit(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),type=_useState4[0],setType=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),isKing=_useState8[0],setIsKing=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),errors=_useState10[0],setErrors=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),id=_useState12[0],setId=_useState12[1];useEffect(function(){axios.get(\"http://localhost:8000/api/Projects/\".concat(props.id)).then(function(res){console.log(res.data);setName(res.data.name);setType(res.data.type);setDescription(res.data.description);setIsKing(res.data.isKing);setId(res.data._id);});},[]);var addProject=function addProject(e){e.preventDefault();axios.put(\"http://localhost:8000/api/Projects/\".concat(props.id),{name:name,type:type,description:description,isKing:isKing}).then(function(res){if(res.data.errors){setErrors(res.data.errors);}else{navigate(\"/Projects/\".concat(res.data._id));}}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Edit Project Listing\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addProject,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),errors.name?/*#__PURE__*/_jsx(\"span\",{children:errors.name.message}):null,/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Type\"}),errors.type?/*#__PURE__*/_jsx(\"span\",{children:errors.type.message}):null,/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"type\",value:type,onChange:function onChange(e){return setType(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),errors.description?/*#__PURE__*/_jsx(\"span\",{children:errors.description.message}):null,/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"description\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Are they King?\"}),errors.name?/*#__PURE__*/_jsx(\"span\",{children:errors.name.message}):null,/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"Are they King?\",checked:isKing,value:isKing,onChange:function onChange(e){return setIsKing(e.target.checked);}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update Project Listing\"}),/*#__PURE__*/_jsx(Link,{to:\"/Projects/\".concat(id),children:/*#__PURE__*/_jsx(\"button\",{className:\"blueButton\",children:\"Cancel Update\"})})]})]});};export default Edit;","map":{"version":3,"sources":["/Users/paulmenendez/Documents/CodingDojo/MERN/MERNTemps/belt3/client/src/components/Edit.js"],"names":["React","useEffect","useState","axios","navigate","Link","Edit","props","name","setName","type","setType","description","setDescription","isKing","setIsKing","errors","setErrors","id","setId","get","then","res","console","log","data","_id","addProject","e","preventDefault","put","catch","err","message","target","value","checked"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport {navigate, Link} from '@reach/router';\n\nconst Edit = (props) => {\n    const [name, setName] = useState(\"\");\n    const [type, setType] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n    const [isKing, setIsKing] = useState(\"\");\n    const [errors, setErrors] = useState(\"\");\n    const [id, setId] = useState(\"\");\n\n    useEffect(() => {\n        axios\n            .get(`http://localhost:8000/api/Projects/${props.id}`)\n            .then((res) => {\n                console.log(res.data);\n                setName(res.data.name);\n                setType(res.data.type);\n                setDescription(res.data.description);\n                setIsKing(res.data.isKing);\n                setId(res.data._id);\n            })\n    },[])\n\n    const addProject = (e) => {\n        e.preventDefault();\n        axios\n            .put(`http://localhost:8000/api/Projects/${props.id}`, {\n                name: name,\n                type: type,\n                description: description,\n                isKing: isKing\n            })\n            .then((res) => {\n                if(res.data.errors) {\n                    setErrors(res.data.errors);\n                } else {\n                    navigate(`/Projects/${res.data._id}`);\n                }\n            })\n            .catch((err) => console.log(err));\n    }\n\n    return(\n        <div>\n            <h2>Edit Project Listing</h2>\n            <form onSubmit={addProject}>\n                <div>\n                    <label>Name</label>\n                    {errors.name ? (\n                        <span>{errors.name.message}</span>\n                    ) : null\n                    }\n                    <input\n                        type=\"text\"\n                        name=\"name\"\n                        value= {name}\n                        onChange={(e) => setName(e.target.value)}\n                    />\n                </div>\n                <div>\n                    <label>Type</label>\n                    {errors.type ? (\n                        <span>{errors.type.message}</span>\n                    ) : null\n                    }\n                    <input\n                        type=\"text\"\n                        name=\"type\"\n                        value= {type}\n                        onChange={(e) => setType(e.target.value)}\n                    />\n                </div>\n                <div>\n                    <label>Description</label>\n                    {errors.description ? (\n                        <span>{errors.description.message}</span>\n                    ) : null\n                    }\n                    <input\n                        type=\"text\"\n                        name=\"description\"\n                        value= {description}\n                        onChange={(e) => setDescription(e.target.value)}\n                    />\n                </div>\n                <div>\n                    <label>Are they King?</label>\n                    {errors.name ? (\n                        <span>{errors.name.message}</span>\n                    ) : null\n                    }\n                    <input\n                        type=\"checkbox\"\n                        name=\"Are they King?\"\n                        checked= {isKing}\n                        value= {isKing}\n                        onChange={(e) => setIsKing(e.target.checked)}\n                    />\n                </div>\n                <button type=\"submit\">Update Project Listing</button>\n                <Link to={`/Projects/${id}`} >\n                    <button className=\"blueButton\">Cancel Update</button>\n                  </Link>\n            </form>\n        </div>\n    )\n}\n\nexport default Edit;"]},"metadata":{},"sourceType":"module"}